{% extends "layout.njk" %}

{% from "accordion/macro.njk" import govukAccordion %}
{% from "back-link/macro.njk" import govukBackLink %}
{% from "button/macro.njk" import govukButton %}
{% from "checkboxes/macro.njk" import govukCheckboxes %}
{% from "error-summary.njk" import errorSummary %}
{% from "warning-text/macro.njk" import govukWarningText %}

{% block pageTitle %}{{ mssgs.licence_conditions }}{% endblock %}

{%
    set errorMap = {
        'agree': {
            'any.required': { ref: '#agree', text: mssgs.terms_conds_error }
        }
    }
%}

{% block content %}
    {% if backRef %}
        {{ govukBackLink({
            text: mssgs.back,
            href: backRef,
            classes: "govuk-!-margin-bottom-7"
        }) }}
    {% endif %}

    {{ errorSummary(error, errorMap, mssgs.there_is_a_problem) }}

    {% if data.paymentRequired %}
        {{ govukWarningText({
            text: mssgs.terms_conds_warning,
            iconFallbackText: "Warning"
        }) }}
    {% endif %}
    <form method="post">
        {{ govukAccordion({
        id: "accordion-default",
        items: [
            {
                heading: {
                    text: mssgs.licence_type_radio_trout_two_rod
                },
                content: {
                    html: '<h2 class="govuk-heading-m">{{ mssgs.licence_conditions_heading }}</h2>
                        <p class="govuk-body">{{ mssgs.licence_conditions_paragraph }}</p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>{{ mssgs.licence_conditions_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_trout_two_rod_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_6 }}</li>
                        </ul>
                        <h2 class="govuk-heading-m">{{ mssgs.licence_conditions_important_info }}</h2>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_trout_info_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_trout_two_rod_info_bulletpoint_6 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_6 }}</li>
                        </ul>'
                }
            },
            {
                heading: {
                    text: mssgs.licence_type_radio_trout_three_rod
                },
                content: {
                    html: "<h2 class='govuk-heading-m'>{{ mssgs.licence_conditions_heading }}</h2>
                        <p class='govuk-body'>{{ mssgs.licence_conditions_paragraph }}</p>
                        <ul class='govuk-list govuk-list--bullet'>
                            <li>{{ mssgs.licence_conditions_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_trout_three_rod_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_6 }}</li>
                        </ul>
                        <h2 class='govuk-heading-m'>{{ mssgs.licence_conditions_important_info }}</h2>
                        <ul class='govuk-list govuk-list--bullet'>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_trout_info_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_6 }}</li>
                        </ul>"
                }
            },
            {
                heading: {
                    text: mssgs.licence_type_radio_salmon
                },
                content: {
                    html: "<h2 class='govuk-heading-m'>{{ mssgs.licence_conditions_heading }}</h2>
                        <p class='govuk-body'>{{ mssgs.licence_conditions_paragraph }}</p>
                        <ul class='govuk-list govuk-list--bullet'>
                            <li>{{ mssgs.licence_conditions_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_salmon_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_bulletpoint_6 }}</li>
                            <li>{{ mssgs.licence_conditions_salmon_bulletpoint_7 }}</li>
                        </ul>
                        <h2 class='govuk-heading-m'>{{ mssgs.licence_conditions_important_info }}</h2>
                        <ul class='govuk-list govuk-list--bullet'>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_1 }}</li>
                            <li>{{ mssgs.licence_conditions_salmon_info_bulletpoint_2 }}</li>
                            <li>{{ mssgs.licence_conditions_salmon_info_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_3 }}</li>
                            <li>{{ mssgs.licence_conditions_salmon_info_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_4 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_5 }}</li>
                            <li>{{ mssgs.licence_conditions_info_bulletpoint_6 }}</li>
                        </ul>"
                }
            }
        ]
        }) }}

        <h2 class="govuk-heading-m">{{ mssgs.licence_conditions_byelaws_title }}</h2>
        <p class="govuk-body">{{ mssgs.licence_conditions_byelaws }}</p>

        <h2 class="govuk-heading-m">{{ mssgs.licence_conditions_privacy_policy_title }}</h2>
        <p class="govuk-body">{{ mssgs.licence_conditions_privacy_policy }}</p>

        <h2 class="govuk-heading-m">{{ mssgs.licence_conditions_incident_title }}</h2>
        <p class="govuk-body">{{ mssgs.licence_conditions_incident }}</p>

        {{ govukCheckboxes({
        idPrefix: "agree",
        name: "agree",
        errorMessage: { text: mssgs.terms_conds_error_must_agree } if error,
        items: [
            {
            value: "yes",
            text: mssgs.terms_conds_item_agree
            }
        ]
        }) }}

        {{ govukButton({
            attributes: { id: 'continue' },
            preventDoubleClick: true,
            name: "continue",
            text: mssgs.terms_conds_pay_button_1 if data.paymentRequired else mssgs.terms_conds_pay_button_2,
            classes: "govuk-!-margin-top-5"
        }) }}

        <div class="govuk-body-m"><a class="govuk-link" href="https://www.gov.uk/fishing-licences/buy-a-fishing-licence">{{ mssgs.terms_conds_pay_on_gov_uk }}</a>.</div>
        {{ csrf() }}
    </form>
{% endblock %}
