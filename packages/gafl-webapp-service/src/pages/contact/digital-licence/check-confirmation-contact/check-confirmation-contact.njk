{% extends "standard-form.njk" %}
{% from "back-link/macro.njk" import govukBackLink %}

{% set contactType %}
  {% if data.licensee.preferredMethodOfConfirmation == 'Email' %} 
    {{ mssgs.email_address }}
  {% else %}
    {{ mssgs.phone_number }}
  {% endif %}
{% endset %}

{% set contactInfo %}
  {% if data.licensee.preferredMethodOfConfirmation == 'Email' %} 
   {{ data.licensee.email }}
  {% else %}
    {{ data.licensee.mobilePhone }}
  {% endif %}
{% endset %}

{% set changeLinkUrl %}
  {% if data.licensee.preferredMethodOfConfirmation == 'Email' %} 
   {{ data.uri.licenceConfirmationMethod }}?change=email
  {% else %}
    {{ data.uri.licenceConfirmationMethod }}?change=mobile
  {% endif %}
{% endset %}

{% set title = mssgs.check_conf_contact_title_1 + contactType + mssgs.check_conf_contact_title_2 %}

{% block pageTitle %}{{ title }}{{ mssgs.gov_uk }}{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if backRef %}
        {{ govukBackLink({
          text: mssgs.back,
          href: backRef,
          classes: "govuk-!-margin-bottom-7"
        }) }}
      {% endif %}
      
      <h1 class="govuk-heading-l" id="contact-information-question">
        {{ title }}
      </h1>

      <p class="govuk-body govuk-!-font-size-27" id="contact-information" tabindex="0" aria-labelledby="contact-information">
        {{ contactInfo }}
      </p>

      <p class="govuk-body govuk-!-margin-bottom-6">
        <a class="govuk-link" href="{{ changeLinkUrl }}">
          {{ mssgs.licence_summary_change }} {{ contactType }}
        </a>
      </p>

      {{ govukButton({
        text: mssgs.check_conf_contact_correct,
        classes: "govuk-!-margin-top-5",
        href: data.uri.contact
      }) }}    
    </div>
  </div>
{% endblock %}
